{"map":"{\"version\":3,\"sources\":[\"src/pages/oj/views/user/ResetPassword.vue\",\"/Users/eagle/workspace/OnlineJudgeFE/node_modules/vue-loader/lib/template-compiler/index.js?{\\\"id\\\":\\\"data-v-59624360\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!/Users/eagle/workspace/OnlineJudgeFE/node_modules/vue-loader/lib/selector.js?type=template&index=0!/Users/eagle/workspace/OnlineJudgeFE/src/pages/oj/views/user/ResetPassword.vue\",\"/Users/eagle/workspace/OnlineJudgeFE/node_modules/vue-loader/index.js??ref--1!/Users/eagle/workspace/OnlineJudgeFE/node_modules/eslint-loader/index.js??ref--0!/Users/eagle/workspace/OnlineJudgeFE/src/pages/oj/views/user/ResetPassword.vue\",\"src/pages/oj/views/user/ApplyResetPassword.vue\",\"/Users/eagle/workspace/OnlineJudgeFE/node_modules/vue-loader/lib/template-compiler/index.js?{\\\"id\\\":\\\"data-v-0e5fbb90\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!/Users/eagle/workspace/OnlineJudgeFE/node_modules/vue-loader/lib/selector.js?type=template&index=0!/Users/eagle/workspace/OnlineJudgeFE/src/pages/oj/views/user/ApplyResetPassword.vue\",\"/Users/eagle/workspace/OnlineJudgeFE/node_modules/vue-loader/index.js??ref--1!/Users/eagle/workspace/OnlineJudgeFE/node_modules/eslint-loader/index.js??ref--0!/Users/eagle/workspace/OnlineJudgeFE/src/pages/oj/views/user/ApplyResetPassword.vue\"],\"names\":[\"ResetPassword\",\"mixins\",\"_this\",\"this\",\"required\",\"trigger\",\"min\",\"max\",\"validator\",\"callback\",\"token\",\"getCaptchaSrc\",\"_this2\",\"formResetPassword\",\"passwordAgain\",\"user_ResetPassword\",\"render\",\"_vm\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticClass\",\"attrs\",\"padding\",\"slot\",\"_v\",\"resetSuccess\",\"type\",\"ref\",\"model\",\"rules\",\"ruleResetPassword\",\"prop\",\"placeholder\",\"size\",\"value\",\"$$v\",\"$set\",\"expression\",\"staticStyle\",\"margin-bottom\",\"id\",\"content\",\"placement\",\"src\",\"captchaSrc\",\"on\",\"click\",\"long\",\"loading\",\"btnLoading\",\"resetPassword\",\"staticRenderFns\",\"Component\",\"__webpack_require__\",\"normalizeComponent\",\"ssrContext\",\"__webpack_exports__\",\"ApplyResetPassword\",\"user_ApplyResetPassword\",\"successApply\",\"show-icon\",\"sendEmail\"],\"mappings\":\"wJA+CAA,QAEA,yBACAC,EAAA,mBACA,IAAAC,EAAAC,wBAgBA,aACA,iBACA,6BAEA,YACA,iBACA,SAEA,kCAEAC,UAAA,EAAAC,QAAA,OAAAC,IAAA,EAAAC,IACA,KAAAC,wGAvBA,iBAEAC,KAqBAJ,QAEA,yBACAD,UAAA,EAAAI,wEAnBA,4BAEAC,KAiBAJ,QAEA,qBACAD,UAAA,EAAAC,QAAA,OAAAC,IAAA,EAAAC,IAIA,2EAGAG,WACAC,mDAGA,IAAAC,EAAAT,2EAEA,iBACAU,4BACAC,kEAEA,kBACA,6BAEA,8BACA,KACAH,uBCvGAI,GADiBC,OAFjB,WAA0B,IAAAC,EAAAd,KAAae,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,YAAA,YAAAC,OAA+BC,QAAA,MAAcJ,EAAA,OAAYE,YAAA,SAAAC,OAA4BE,KAAA,SAAeA,KAAA,UAAcR,EAAAS,GAAA,oBAAAT,EAAAS,GAAA,KAAAT,EAAAU,cAA8uDP,EAAA,SAA+CG,OAAOK,KAAA,aAAkBX,EAAAS,GAAA,qCAAtzDN,EAAA,QAAyES,IAAA,oBAAAN,OAA+BO,MAAAb,EAAAJ,kBAAAkB,MAAAd,EAAAe,qBAA6DZ,EAAA,aAAkBG,OAAOU,KAAA,cAAmBb,EAAA,SAAcG,OAAOK,KAAA,WAAAM,YAAA,WAAAC,KAAA,SAA0DL,OAAQM,MAAAnB,EAAAJ,kBAAA,SAAAJ,SAAA,SAAA4B,GAAgEpB,EAAAqB,KAAArB,EAAAJ,kBAAA,WAAAwB,IAAiDE,WAAA,gCAA0CnB,EAAA,QAAaG,OAAOE,KAAA,UAAAG,KAAA,sBAA6CH,KAAA,aAAgB,IAAA,GAAAR,EAAAS,GAAA,KAAAN,EAAA,aAAsCG,OAAOU,KAAA,mBAAwBb,EAAA,SAAcG,OAAOK,KAAA,WAAAM,YAAA,iBAAAC,KAAA,SAAgEL,OAAQM,MAAAnB,EAAAJ,kBAAA,cAAAJ,SAAA,SAAA4B,GAAqEpB,EAAAqB,KAAArB,EAAAJ,kBAAA,gBAAAwB,IAAsDE,WAAA,qCAA+CnB,EAAA,QAAaG,OAAOE,KAAA,UAAAG,KAAA,sBAA6CH,KAAA,aAAgB,IAAA,GAAAR,EAAAS,GAAA,KAAAN,EAAA,aAAsCoB,aAAaC,gBAAA,QAAuBlB,OAAQU,KAAA,aAAkBb,EAAA,OAAYG,OAAOmB,GAAA,aAAgBtB,EAAA,OAAYG,OAAOmB,GAAA,iBAAoBtB,EAAA,SAAcG,OAAOW,YAAA,UAAAC,KAAA,SAAuCL,OAAQM,MAAAnB,EAAAJ,kBAAA,QAAAJ,SAAA,SAAA4B,GAA+DpB,EAAAqB,KAAArB,EAAAJ,kBAAA,UAAAwB,IAAgDE,WAAA,+BAAyCnB,EAAA,QAAaG,OAAOE,KAAA,UAAAG,KAAA,yBAAgDH,KAAA,aAAgB,IAAA,GAAAR,EAAAS,GAAA,KAAAN,EAAA,OAAgCG,OAAOmB,GAAA,gBAAmBtB,EAAA,WAAgBG,OAAOoB,QAAA,mBAAAC,UAAA,SAAgDxB,EAAA,OAAYG,OAAOsB,IAAA5B,EAAA6B,YAAqBC,IAAKC,MAAA/B,EAAAN,oBAA2B,QAAA,GAAAM,EAAAS,GAAA,KAAAN,EAAA,UAAyCE,YAAA,MAAAC,OAAyBK,KAAA,UAAAqB,KAAA,GAAAC,QAAAjC,EAAAkC,YAAoDJ,IAAKC,MAAA/B,EAAAmC,iBAA2BnC,EAAAS,GAAA,0BAAwE,IAEngE2B,oBCejBC,EAdAC,EAAA,OAcAC,CACAxD,EACAe,GATA,EAVA,SAAA0C,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA,sJCiBAK,qBAEA,qCAgBA,iBACA,cACA,2BAEA,WAEA,+BAEAvD,UAAA,EAAAwB,KAAA,QAAAvB,QACA,SAAAG,wHAnBA,4BAEAC,wBAEAA,MAEAA,KAaAJ,QAEA,mBACAD,UAAA,EAAAC,QAAA,OAAAC,IAAA,EAAAC,IAIA,gCAGAI,+CAGA,IAAAT,EAAAC,0EAEA,mGAIA,kBACA,GACA,gCAEA,8BACA,KACAQ,uBC5FAiD,GADiB5C,OAFjB,WAA0B,IAAAC,EAAAd,KAAae,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,YAAA,YAAAC,OAA+BC,QAAA,MAAcJ,EAAA,OAAYE,YAAA,SAAAC,OAA4BE,KAAA,SAAeA,KAAA,UAAcR,EAAAS,GAAA,mBAAAT,EAAAS,GAAA,KAAAT,EAAA4C,cAA+zCzC,EAAA,SAA4DG,OAAOK,KAAA,UAAAkC,YAAA,MAAiC7C,EAAAS,GAAA,2BAAAN,EAAA,QAA+CG,OAAOE,KAAA,QAAcA,KAAA,SAAaR,EAAAS,GAAA,0DAAp/CN,EAAA,QAAwES,IAAA,oBAAAN,OAA+BQ,MAAAd,EAAAe,kBAAAF,MAAAb,EAAAJ,qBAA6DO,EAAA,aAAkBG,OAAOU,KAAA,WAAgBb,EAAA,SAAcG,OAAOW,YAAA,qBAAAC,KAAA,SAAkDL,OAAQM,MAAAnB,EAAAJ,kBAAA,MAAAJ,SAAA,SAAA4B,GAA6DpB,EAAAqB,KAAArB,EAAAJ,kBAAA,QAAAwB,IAA8CE,WAAA,6BAAuCnB,EAAA,QAAaG,OAAOE,KAAA,UAAAG,KAAA,qBAA4CH,KAAA,aAAgB,IAAA,GAAAR,EAAAS,GAAA,KAAAN,EAAA,aAAsCoB,aAAaC,gBAAA,QAAuBlB,OAAQU,KAAA,aAAkBb,EAAA,OAAYE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,SAAcG,OAAOW,YAAA,UAAAC,KAAA,SAAuCL,OAAQM,MAAAnB,EAAAJ,kBAAA,QAAAJ,SAAA,SAAA4B,GAA+DpB,EAAAqB,KAAArB,EAAAJ,kBAAA,UAAAwB,IAAgDE,WAAA,+BAAyCnB,EAAA,QAAaG,OAAOE,KAAA,UAAAG,KAAA,yBAAgDH,KAAA,aAAgB,IAAA,GAAAR,EAAAS,GAAA,KAAAN,EAAA,OAAgCE,YAAA,mBAA6BF,EAAA,WAAgBG,OAAOoB,QAAA,mBAAAC,UAAA,SAAgDxB,EAAA,OAAYG,OAAOsB,IAAA5B,EAAA6B,YAAqBC,IAAKC,MAAA/B,EAAAN,oBAA2B,QAAA,GAAAM,EAAAS,GAAA,KAAAN,EAAA,UAAyCE,YAAA,MAAAC,OAAyBK,KAAA,UAAAqB,KAAA,GAAAC,QAAAjC,EAAAkC,YAAoDJ,IAAKC,MAAA/B,EAAA8C,aAAuB9C,EAAAS,GAAA,uCAAqL,IAEjsD2B,oBCejBC,EAdAC,EAAA,OAcAC,CACAG,EACAC,GATA,EAVA,SAAAH,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA\",\"sourcesContent\":[\"<template>\\n  <Panel :padding=\\\"30\\\" class=\\\"container\\\">\\n    <div slot=\\\"title\\\" class=\\\"center\\\">Reset Password</div>\\n    <template v-if=\\\"!resetSuccess\\\">\\n    <Form :model=formResetPassword ref=\\\"formResetPassword\\\" :rules=\\\"ruleResetPassword\\\">\\n      <Form-item prop=\\\"password\\\">\\n        <Input type=\\\"password\\\" v-model=\\\"formResetPassword.password\\\" placeholder=\\\"Password\\\" size=\\\"large\\\">\\n        <Icon type=\\\"ios-locked-outline\\\" slot=\\\"prepend\\\"></Icon>\\n        </Input>\\n      </Form-item>\\n      <Form-item prop=\\\"passwordAgain\\\">\\n        <Input type=\\\"password\\\" v-model=\\\"formResetPassword.passwordAgain\\\" placeholder=\\\"Password Again\\\" size=\\\"large\\\">\\n        <Icon type=\\\"ios-locked-outline\\\" slot=\\\"prepend\\\"></Icon>\\n        </Input>\\n      </Form-item>\\n      <Form-item prop=\\\"captcha\\\" style=\\\"margin-bottom:10px\\\">\\n        <div id=\\\"captcha\\\">\\n          <div id=\\\"captchaCode\\\">\\n            <Input v-model=\\\"formResetPassword.captcha\\\" placeholder=\\\"Captcha\\\" size=\\\"large\\\">\\n            <Icon type=\\\"ios-lightbulb-outline\\\" slot=\\\"prepend\\\"></Icon>\\n            </Input>\\n          </div>\\n          <div id=\\\"captchaImg\\\">\\n            <Tooltip content=\\\"Click to refresh\\\" placement=\\\"top\\\">\\n              <img :src=\\\"captchaSrc\\\" @click=\\\"getCaptchaSrc\\\"/>\\n            </Tooltip>\\n          </div>\\n        </div>\\n      </Form-item>\\n    </Form>\\n    <Button type=\\\"primary\\\"\\n            @click=\\\"resetPassword\\\"\\n            class=\\\"btn\\\" long\\n            :loading=\\\"btnLoading\\\">Reset Password\\n    </Button>\\n    </template>\\n\\n    <template v-else>\\n      <Alert type=\\\"success\\\">Your password has been reset.</Alert>\\n    </template>\\n  </Panel>\\n</template>\\n\\n<script>\\n  import {FormMixin} from '@oj/components/mixins'\\n  import api from '@oj/api'\\n\\n  export default {\\n    name: 'reset-password',\\n    mixins: [FormMixin],\\n    data () {\\n      const CheckPassword = (rule, value, callback) => {\\n        if (this.formResetPassword.passwdCheck !== '') {\\n          // 对第二个密码框再次验证\\n          this.$refs.formResetPassword.validateField('passwordAgain')\\n        }\\n        callback()\\n      }\\n\\n      const CheckAgainPassword = (rule, value, callback) => {\\n        if (value !== this.formResetPassword.password) {\\n          callback(new Error('password does not match'))\\n        }\\n        callback()\\n      }\\n      return {\\n        btnLoading: false,\\n        captchaSrc: '',\\n        resetSuccess: false,\\n        formResetPassword: {\\n          captcha: '',\\n          password: '',\\n          passwordAgain: '',\\n          token: ''\\n        },\\n        ruleResetPassword: {\\n          password: [\\n            {required: true, trigger: 'blur', min: 6, max: 20},\\n            {validator: CheckPassword, trigger: 'blur'}\\n          ],\\n          passwordAgain: [\\n            {required: true, validator: CheckAgainPassword, trigger: 'change'}\\n          ],\\n          captcha: [\\n            {required: true, trigger: 'blur', min: 1, max: 10}\\n          ]\\n        }\\n      }\\n    },\\n    mounted () {\\n      this.formResetPassword.token = this.$route.params.token\\n      this.getCaptchaSrc()\\n    },\\n    methods: {\\n      resetPassword () {\\n        this.validateForm('formResetPassword').then(valid => {\\n          this.btnLoading = true\\n          let data = Object.assign({}, this.formResetPassword)\\n          delete data.passwordAgain\\n          api.resetPassword(data).then(res => {\\n            this.btnLoading = false\\n            this.resetSuccess = true\\n          }, _ => {\\n            this.btnLoading = false\\n            this.formResetPassword.captcha = ''\\n            this.getCaptchaSrc()\\n          })\\n        })\\n      }\\n    }\\n  }\\n</script>\\n<style lang=\\\"less\\\" scoped>\\n  .container {\\n    width: 450px;\\n    margin: auto;\\n    .center {\\n      text-align: center;\\n    }\\n    #captcha {\\n      display: flex;\\n      flex-wrap: nowrap;\\n      justify-content: space-between;\\n      width: 100%;\\n      height: 36px;\\n      #captchaCode {\\n        flex: auto;\\n      }\\n      #captchaImg {\\n        margin-left: 10px;\\n        padding: 3px;\\n        flex: initial;\\n      }\\n    }\\n    .btn {\\n      margin-top: 18px;\\n      text-align: center;\\n    }\\n  }\\n</style>\\n\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Panel',{staticClass:\\\"container\\\",attrs:{\\\"padding\\\":30}},[_c('div',{staticClass:\\\"center\\\",attrs:{\\\"slot\\\":\\\"title\\\"},slot:\\\"title\\\"},[_vm._v(\\\"Reset Password\\\")]),_vm._v(\\\" \\\"),(!_vm.resetSuccess)?[_c('Form',{ref:\\\"formResetPassword\\\",attrs:{\\\"model\\\":_vm.formResetPassword,\\\"rules\\\":_vm.ruleResetPassword}},[_c('Form-item',{attrs:{\\\"prop\\\":\\\"password\\\"}},[_c('Input',{attrs:{\\\"type\\\":\\\"password\\\",\\\"placeholder\\\":\\\"Password\\\",\\\"size\\\":\\\"large\\\"},model:{value:(_vm.formResetPassword.password),callback:function ($$v) {_vm.$set(_vm.formResetPassword, \\\"password\\\", $$v)},expression:\\\"formResetPassword.password\\\"}},[_c('Icon',{attrs:{\\\"slot\\\":\\\"prepend\\\",\\\"type\\\":\\\"ios-locked-outline\\\"},slot:\\\"prepend\\\"})],1)],1),_vm._v(\\\" \\\"),_c('Form-item',{attrs:{\\\"prop\\\":\\\"passwordAgain\\\"}},[_c('Input',{attrs:{\\\"type\\\":\\\"password\\\",\\\"placeholder\\\":\\\"Password Again\\\",\\\"size\\\":\\\"large\\\"},model:{value:(_vm.formResetPassword.passwordAgain),callback:function ($$v) {_vm.$set(_vm.formResetPassword, \\\"passwordAgain\\\", $$v)},expression:\\\"formResetPassword.passwordAgain\\\"}},[_c('Icon',{attrs:{\\\"slot\\\":\\\"prepend\\\",\\\"type\\\":\\\"ios-locked-outline\\\"},slot:\\\"prepend\\\"})],1)],1),_vm._v(\\\" \\\"),_c('Form-item',{staticStyle:{\\\"margin-bottom\\\":\\\"10px\\\"},attrs:{\\\"prop\\\":\\\"captcha\\\"}},[_c('div',{attrs:{\\\"id\\\":\\\"captcha\\\"}},[_c('div',{attrs:{\\\"id\\\":\\\"captchaCode\\\"}},[_c('Input',{attrs:{\\\"placeholder\\\":\\\"Captcha\\\",\\\"size\\\":\\\"large\\\"},model:{value:(_vm.formResetPassword.captcha),callback:function ($$v) {_vm.$set(_vm.formResetPassword, \\\"captcha\\\", $$v)},expression:\\\"formResetPassword.captcha\\\"}},[_c('Icon',{attrs:{\\\"slot\\\":\\\"prepend\\\",\\\"type\\\":\\\"ios-lightbulb-outline\\\"},slot:\\\"prepend\\\"})],1)],1),_vm._v(\\\" \\\"),_c('div',{attrs:{\\\"id\\\":\\\"captchaImg\\\"}},[_c('Tooltip',{attrs:{\\\"content\\\":\\\"Click to refresh\\\",\\\"placement\\\":\\\"top\\\"}},[_c('img',{attrs:{\\\"src\\\":_vm.captchaSrc},on:{\\\"click\\\":_vm.getCaptchaSrc}})])],1)])])],1),_vm._v(\\\" \\\"),_c('Button',{staticClass:\\\"btn\\\",attrs:{\\\"type\\\":\\\"primary\\\",\\\"long\\\":\\\"\\\",\\\"loading\\\":_vm.btnLoading},on:{\\\"click\\\":_vm.resetPassword}},[_vm._v(\\\"Reset Password\\\\n  \\\")])]:[_c('Alert',{attrs:{\\\"type\\\":\\\"success\\\"}},[_vm._v(\\\"Your password has been reset.\\\")])]],2)}\\nvar staticRenderFns = []\\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\\nexport default esExports\",\"function injectStyle (ssrContext) {\\n  require(\\\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\\\\\"omit\\\\\\\":1,\\\\\\\"remove\\\\\\\":true}!vue-style-loader!css-loader?{\\\\\\\"minimize\\\\\\\":true,\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\\\\\"vue\\\\\\\":true,\\\\\\\"id\\\\\\\":\\\\\\\"data-v-59624360\\\\\\\",\\\\\\\"scoped\\\\\\\":true,\\\\\\\"hasInlineConfig\\\\\\\":false}!less-loader?{\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResetPassword.vue\\\")\\n}\\nvar normalizeComponent = require(\\\"!../../../../../node_modules/vue-loader/lib/component-normalizer\\\")\\n/* script */\\nexport * from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPassword.vue\\\"\\nimport __vue_script__ from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPassword.vue\\\"\\n/* template */\\nimport __vue_template__ from \\\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\\\\\"id\\\\\\\":\\\\\\\"data-v-59624360\\\\\\\",\\\\\\\"hasScoped\\\\\\\":true,\\\\\\\"transformToRequire\\\\\\\":{\\\\\\\"video\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"source\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"img\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"image\\\\\\\":\\\\\\\"xlink:href\\\\\\\"},\\\\\\\"buble\\\\\\\":{\\\\\\\"transforms\\\\\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResetPassword.vue\\\"\\n/* template functional */\\nvar __vue_template_functional__ = false\\n/* styles */\\nvar __vue_styles__ = injectStyle\\n/* scopeId */\\nvar __vue_scopeId__ = \\\"data-v-59624360\\\"\\n/* moduleIdentifier (server only) */\\nvar __vue_module_identifier__ = null\\nvar Component = normalizeComponent(\\n  __vue_script__,\\n  __vue_template__,\\n  __vue_template_functional__,\\n  __vue_styles__,\\n  __vue_scopeId__,\\n  __vue_module_identifier__\\n)\\n\\nexport default Component.exports\\n\",\"<template>\\n  <Panel :padding=\\\"30\\\" class=\\\"container\\\">\\n    <div slot=\\\"title\\\" class=\\\"center\\\">Lost Password</div>\\n    <template v-if=\\\"!successApply\\\">\\n      <Form :rules=\\\"ruleResetPassword\\\" :model=formResetPassword ref=\\\"formResetPassword\\\">\\n        <Form-item prop=\\\"email\\\">\\n          <Input v-model=\\\"formResetPassword.email\\\" placeholder=\\\"Your Email Address\\\" size=\\\"large\\\">\\n          <Icon type=\\\"ios-email-outline\\\" slot=\\\"prepend\\\"></Icon>\\n          </Input>\\n        </Form-item>\\n        <Form-item prop=\\\"captcha\\\" style=\\\"margin-bottom:10px\\\">\\n          <div class=\\\"oj-captcha\\\">\\n            <div class=\\\"oj-captcha-code\\\">\\n              <Input v-model=\\\"formResetPassword.captcha\\\" placeholder=\\\"Captcha\\\" size=\\\"large\\\">\\n              <Icon type=\\\"ios-lightbulb-outline\\\" slot=\\\"prepend\\\"></Icon>\\n              </Input>\\n            </div>\\n            <div class=\\\"oj-captcha-img\\\">\\n              <Tooltip content=\\\"Click to refresh\\\" placement=\\\"top\\\">\\n                <img :src=\\\"captchaSrc\\\" @click=\\\"getCaptchaSrc\\\"/>\\n              </Tooltip>\\n            </div>\\n          </div>\\n        </Form-item>\\n      </Form>\\n      <Button type=\\\"primary\\\"\\n              @click=\\\"sendEmail\\\"\\n              class=\\\"btn\\\" long\\n              :loading=\\\"btnLoading\\\">Send Password Reset Email\\n      </Button>\\n    </template>\\n    <template v-else>\\n      <Alert type=\\\"success\\\" show-icon>\\n        Success\\n        <span slot=\\\"desc\\\">Password reset mail has been sent to your email.</span>\\n      </Alert>\\n    </template>\\n  </Panel>\\n</template>\\n<script>\\n  import api from '@oj/api'\\n  import {FormMixin} from '@oj/components/mixins'\\n\\n  export default {\\n    mixins: [FormMixin],\\n    data () {\\n      const CheckEmailExist = (rule, value, callback) => {\\n        if (value !== '') {\\n          api.checkUsernameOrEmail(undefined, value).then(res => {\\n            if (res.data.data.email === false) {\\n              callback(new Error('The email doesn\\\\'t exist'))\\n            } else {\\n              callback()\\n            }\\n          }, _ => callback())\\n        } else {\\n          callback()\\n        }\\n      }\\n      return {\\n        captchaSrc: '',\\n        successApply: false,\\n        btnLoading: false,\\n        formResetPassword: {\\n          email: '',\\n          captcha: ''\\n        },\\n        ruleResetPassword: {\\n          email: [\\n            {required: true, type: 'email', trigger: 'blur'},\\n            {validator: CheckEmailExist, trigger: 'blur'}\\n          ],\\n          captcha: [\\n            {required: true, trigger: 'blur', min: 1, max: 10}\\n          ]\\n        }\\n      }\\n    },\\n    mounted () {\\n      this.getCaptchaSrc()\\n    },\\n    methods: {\\n      sendEmail () {\\n        this.validateForm('formResetPassword').then(() => {\\n          this.btnLoading = true\\n          api.applyResetPassword(this.formResetPassword).then(res => {\\n            // 伪加载\\n            setTimeout(() => {\\n              this.btnLoading = false\\n              this.successApply = true\\n            }, 2000)\\n          }, _ => {\\n            this.btnLoading = false\\n            this.formResetPassword.captcha = ''\\n            this.getCaptchaSrc()\\n          })\\n        })\\n      }\\n    }\\n  }\\n</script>\\n\\n<style scoped lang=\\\"less\\\">\\n  .container {\\n    width: 450px;\\n    margin: auto;\\n    .center {\\n      text-align: center;\\n    }\\n    .btn {\\n      margin-top: 18px;\\n      text-align: center;\\n    }\\n  }\\n</style>\\n\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Panel',{staticClass:\\\"container\\\",attrs:{\\\"padding\\\":30}},[_c('div',{staticClass:\\\"center\\\",attrs:{\\\"slot\\\":\\\"title\\\"},slot:\\\"title\\\"},[_vm._v(\\\"Lost Password\\\")]),_vm._v(\\\" \\\"),(!_vm.successApply)?[_c('Form',{ref:\\\"formResetPassword\\\",attrs:{\\\"rules\\\":_vm.ruleResetPassword,\\\"model\\\":_vm.formResetPassword}},[_c('Form-item',{attrs:{\\\"prop\\\":\\\"email\\\"}},[_c('Input',{attrs:{\\\"placeholder\\\":\\\"Your Email Address\\\",\\\"size\\\":\\\"large\\\"},model:{value:(_vm.formResetPassword.email),callback:function ($$v) {_vm.$set(_vm.formResetPassword, \\\"email\\\", $$v)},expression:\\\"formResetPassword.email\\\"}},[_c('Icon',{attrs:{\\\"slot\\\":\\\"prepend\\\",\\\"type\\\":\\\"ios-email-outline\\\"},slot:\\\"prepend\\\"})],1)],1),_vm._v(\\\" \\\"),_c('Form-item',{staticStyle:{\\\"margin-bottom\\\":\\\"10px\\\"},attrs:{\\\"prop\\\":\\\"captcha\\\"}},[_c('div',{staticClass:\\\"oj-captcha\\\"},[_c('div',{staticClass:\\\"oj-captcha-code\\\"},[_c('Input',{attrs:{\\\"placeholder\\\":\\\"Captcha\\\",\\\"size\\\":\\\"large\\\"},model:{value:(_vm.formResetPassword.captcha),callback:function ($$v) {_vm.$set(_vm.formResetPassword, \\\"captcha\\\", $$v)},expression:\\\"formResetPassword.captcha\\\"}},[_c('Icon',{attrs:{\\\"slot\\\":\\\"prepend\\\",\\\"type\\\":\\\"ios-lightbulb-outline\\\"},slot:\\\"prepend\\\"})],1)],1),_vm._v(\\\" \\\"),_c('div',{staticClass:\\\"oj-captcha-img\\\"},[_c('Tooltip',{attrs:{\\\"content\\\":\\\"Click to refresh\\\",\\\"placement\\\":\\\"top\\\"}},[_c('img',{attrs:{\\\"src\\\":_vm.captchaSrc},on:{\\\"click\\\":_vm.getCaptchaSrc}})])],1)])])],1),_vm._v(\\\" \\\"),_c('Button',{staticClass:\\\"btn\\\",attrs:{\\\"type\\\":\\\"primary\\\",\\\"long\\\":\\\"\\\",\\\"loading\\\":_vm.btnLoading},on:{\\\"click\\\":_vm.sendEmail}},[_vm._v(\\\"Send Password Reset Email\\\\n    \\\")])]:[_c('Alert',{attrs:{\\\"type\\\":\\\"success\\\",\\\"show-icon\\\":\\\"\\\"}},[_vm._v(\\\"\\\\n      Success\\\\n      \\\"),_c('span',{attrs:{\\\"slot\\\":\\\"desc\\\"},slot:\\\"desc\\\"},[_vm._v(\\\"Password reset mail has been sent to your email.\\\")])])]],2)}\\nvar staticRenderFns = []\\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\\nexport default esExports\",\"function injectStyle (ssrContext) {\\n  require(\\\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\\\\\"omit\\\\\\\":1,\\\\\\\"remove\\\\\\\":true}!vue-style-loader!css-loader?{\\\\\\\"minimize\\\\\\\":true,\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\\\\\"vue\\\\\\\":true,\\\\\\\"id\\\\\\\":\\\\\\\"data-v-0e5fbb90\\\\\\\",\\\\\\\"scoped\\\\\\\":true,\\\\\\\"hasInlineConfig\\\\\\\":false}!less-loader?{\\\\\\\"sourceMap\\\\\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ApplyResetPassword.vue\\\")\\n}\\nvar normalizeComponent = require(\\\"!../../../../../node_modules/vue-loader/lib/component-normalizer\\\")\\n/* script */\\nexport * from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ApplyResetPassword.vue\\\"\\nimport __vue_script__ from \\\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ApplyResetPassword.vue\\\"\\n/* template */\\nimport __vue_template__ from \\\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\\\\\"id\\\\\\\":\\\\\\\"data-v-0e5fbb90\\\\\\\",\\\\\\\"hasScoped\\\\\\\":true,\\\\\\\"transformToRequire\\\\\\\":{\\\\\\\"video\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"source\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"img\\\\\\\":\\\\\\\"src\\\\\\\",\\\\\\\"image\\\\\\\":\\\\\\\"xlink:href\\\\\\\"},\\\\\\\"buble\\\\\\\":{\\\\\\\"transforms\\\\\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ApplyResetPassword.vue\\\"\\n/* template functional */\\nvar __vue_template_functional__ = false\\n/* styles */\\nvar __vue_styles__ = injectStyle\\n/* scopeId */\\nvar __vue_scopeId__ = \\\"data-v-0e5fbb90\\\"\\n/* moduleIdentifier (server only) */\\nvar __vue_module_identifier__ = null\\nvar Component = normalizeComponent(\\n  __vue_script__,\\n  __vue_template__,\\n  __vue_template_functional__,\\n  __vue_styles__,\\n  __vue_scopeId__,\\n  __vue_module_identifier__\\n)\\n\\nexport default Component.exports\\n\"]}","code":"webpackJsonp([4],{\"04zp\":function(t,s,e){\"use strict\";Object.defineProperty(s,\"__esModule\",{value:!0});var a=e(\"woOf\"),r=e.n(a),o=e(\"y2MC\"),n=e(\"8Q2T\"),c={name:\"reset-password\",mixins:[o.a],data:function(){var t=this;return{btnLoading:!1,captchaSrc:\"\",resetSuccess:!1,formResetPassword:{captcha:\"\",password:\"\",passwordAgain:\"\",token:\"\"},ruleResetPassword:{password:[{required:!0,trigger:\"blur\",min:6,max:20},{validator:function(s,e,a){\"\"!==t.formResetPassword.passwdCheck&&t.$refs.formResetPassword.validateField(\"passwordAgain\"),a()},trigger:\"blur\"}],passwordAgain:[{required:!0,validator:function(s,e,a){e!==t.formResetPassword.password&&a(new Error(\"password does not match\")),a()},trigger:\"change\"}],captcha:[{required:!0,trigger:\"blur\",min:1,max:10}]}}},mounted:function(){this.formResetPassword.token=this.$route.params.token,this.getCaptchaSrc()},methods:{resetPassword:function(){var t=this;this.validateForm(\"formResetPassword\").then(function(s){t.btnLoading=!0;var e=r()({},t.formResetPassword);delete e.passwordAgain,n.a.resetPassword(e).then(function(s){t.btnLoading=!1,t.resetSuccess=!0},function(s){t.btnLoading=!1,t.formResetPassword.captcha=\"\",t.getCaptchaSrc()})})}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"Panel\",{staticClass:\"container\",attrs:{padding:30}},[e(\"div\",{staticClass:\"center\",attrs:{slot:\"title\"},slot:\"title\"},[t._v(\"Reset Password\")]),t._v(\" \"),t.resetSuccess?[e(\"Alert\",{attrs:{type:\"success\"}},[t._v(\"Your password has been reset.\")])]:[e(\"Form\",{ref:\"formResetPassword\",attrs:{model:t.formResetPassword,rules:t.ruleResetPassword}},[e(\"Form-item\",{attrs:{prop:\"password\"}},[e(\"Input\",{attrs:{type:\"password\",placeholder:\"Password\",size:\"large\"},model:{value:t.formResetPassword.password,callback:function(s){t.$set(t.formResetPassword,\"password\",s)},expression:\"formResetPassword.password\"}},[e(\"Icon\",{attrs:{slot:\"prepend\",type:\"ios-locked-outline\"},slot:\"prepend\"})],1)],1),t._v(\" \"),e(\"Form-item\",{attrs:{prop:\"passwordAgain\"}},[e(\"Input\",{attrs:{type:\"password\",placeholder:\"Password Again\",size:\"large\"},model:{value:t.formResetPassword.passwordAgain,callback:function(s){t.$set(t.formResetPassword,\"passwordAgain\",s)},expression:\"formResetPassword.passwordAgain\"}},[e(\"Icon\",{attrs:{slot:\"prepend\",type:\"ios-locked-outline\"},slot:\"prepend\"})],1)],1),t._v(\" \"),e(\"Form-item\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{prop:\"captcha\"}},[e(\"div\",{attrs:{id:\"captcha\"}},[e(\"div\",{attrs:{id:\"captchaCode\"}},[e(\"Input\",{attrs:{placeholder:\"Captcha\",size:\"large\"},model:{value:t.formResetPassword.captcha,callback:function(s){t.$set(t.formResetPassword,\"captcha\",s)},expression:\"formResetPassword.captcha\"}},[e(\"Icon\",{attrs:{slot:\"prepend\",type:\"ios-lightbulb-outline\"},slot:\"prepend\"})],1)],1),t._v(\" \"),e(\"div\",{attrs:{id:\"captchaImg\"}},[e(\"Tooltip\",{attrs:{content:\"Click to refresh\",placement:\"top\"}},[e(\"img\",{attrs:{src:t.captchaSrc},on:{click:t.getCaptchaSrc}})])],1)])])],1),t._v(\" \"),e(\"Button\",{staticClass:\"btn\",attrs:{type:\"primary\",long:\"\",loading:t.btnLoading},on:{click:t.resetPassword}},[t._v(\"Reset Password\\n  \")])]],2)},staticRenderFns:[]},d=e(\"VU/8\")(c,i,!1,function(t){e(\"DBCo\")},\"data-v-59624360\",null);s.default=d.exports},DBCo:function(t,s){},RjTh:function(t,s){},WaBM:function(t,s,e){\"use strict\";Object.defineProperty(s,\"__esModule\",{value:!0});var a=e(\"8Q2T\"),r={mixins:[e(\"y2MC\").a],data:function(){return{captchaSrc:\"\",successApply:!1,btnLoading:!1,formResetPassword:{email:\"\",captcha:\"\"},ruleResetPassword:{email:[{required:!0,type:\"email\",trigger:\"blur\"},{validator:function(t,s,e){\"\"!==s?a.a.checkUsernameOrEmail(void 0,s).then(function(t){!1===t.data.data.email?e(new Error(\"The email doesn't exist\")):e()},function(t){return e()}):e()},trigger:\"blur\"}],captcha:[{required:!0,trigger:\"blur\",min:1,max:10}]}}},mounted:function(){this.getCaptchaSrc()},methods:{sendEmail:function(){var t=this;this.validateForm(\"formResetPassword\").then(function(){t.btnLoading=!0,a.a.applyResetPassword(t.formResetPassword).then(function(s){setTimeout(function(){t.btnLoading=!1,t.successApply=!0},2e3)},function(s){t.btnLoading=!1,t.formResetPassword.captcha=\"\",t.getCaptchaSrc()})})}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"Panel\",{staticClass:\"container\",attrs:{padding:30}},[e(\"div\",{staticClass:\"center\",attrs:{slot:\"title\"},slot:\"title\"},[t._v(\"Lost Password\")]),t._v(\" \"),t.successApply?[e(\"Alert\",{attrs:{type:\"success\",\"show-icon\":\"\"}},[t._v(\"\\n      Success\\n      \"),e(\"span\",{attrs:{slot:\"desc\"},slot:\"desc\"},[t._v(\"Password reset mail has been sent to your email.\")])])]:[e(\"Form\",{ref:\"formResetPassword\",attrs:{rules:t.ruleResetPassword,model:t.formResetPassword}},[e(\"Form-item\",{attrs:{prop:\"email\"}},[e(\"Input\",{attrs:{placeholder:\"Your Email Address\",size:\"large\"},model:{value:t.formResetPassword.email,callback:function(s){t.$set(t.formResetPassword,\"email\",s)},expression:\"formResetPassword.email\"}},[e(\"Icon\",{attrs:{slot:\"prepend\",type:\"ios-email-outline\"},slot:\"prepend\"})],1)],1),t._v(\" \"),e(\"Form-item\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{prop:\"captcha\"}},[e(\"div\",{staticClass:\"oj-captcha\"},[e(\"div\",{staticClass:\"oj-captcha-code\"},[e(\"Input\",{attrs:{placeholder:\"Captcha\",size:\"large\"},model:{value:t.formResetPassword.captcha,callback:function(s){t.$set(t.formResetPassword,\"captcha\",s)},expression:\"formResetPassword.captcha\"}},[e(\"Icon\",{attrs:{slot:\"prepend\",type:\"ios-lightbulb-outline\"},slot:\"prepend\"})],1)],1),t._v(\" \"),e(\"div\",{staticClass:\"oj-captcha-img\"},[e(\"Tooltip\",{attrs:{content:\"Click to refresh\",placement:\"top\"}},[e(\"img\",{attrs:{src:t.captchaSrc},on:{click:t.getCaptchaSrc}})])],1)])])],1),t._v(\" \"),e(\"Button\",{staticClass:\"btn\",attrs:{type:\"primary\",long:\"\",loading:t.btnLoading},on:{click:t.sendEmail}},[t._v(\"Send Password Reset Email\\n    \")])]],2)},staticRenderFns:[]},n=e(\"VU/8\")(r,o,!1,function(t){e(\"RjTh\")},\"data-v-0e5fbb90\",null);s.default=n.exports}});","extractedComments":[]}